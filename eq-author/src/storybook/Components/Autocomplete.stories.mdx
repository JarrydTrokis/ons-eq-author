import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";

import { Autocomplete } from "components/Autocomplete";
import { unitConversion } from "constants/unit-types";
const unitTypes = [
  "Centimetres", 
  "Metres",
  "Kilometres",
  "Miles",
  "Square centimetres",
  "Square metres",
  "Square kilometres",
  "Square miles",
  "Acres",
  "Hectares",
  "Cubic centimetres",
  "Cubic metres",
  "Cubic kilometres",
  "Litres",
  "Hectolitres",
  "Megalitres",
  "Tonnes",
  "Kilojoules",
  "Kilowatt hours",
];
const filterOptions = (options, query) =>
  Object.values(options).filter(
    x =>
      x.unit.toLowerCase().includes(query) ||
      x.abbreviation.toLowerCase().includes(query)
  ).map(option => <span>{option.unit} <span aria-hidden="true">({option.abbreviation})</span></span>);



<Meta title="Components/Autocomplete" component={Autocomplete} />


# Autocomplete

## Example

<Canvas>
  <Story
    name="Default"
    args={{ options: unitTypes, placeholder: "Select a type" }}
  >
    {(args) => <Autocomplete {...args} />}
  </Story>
</Canvas>

## When not to use this component

TODO

## How to use this component

TODO

## Variants

### Filter

<Canvas>
  <Story
    name="Filtered"
    args={{ options: unitConversion, placeholder: "Select a type" }}
  >
    {(args) => <Autocomplete {...args} filter={filterOptions} />}
  </Story>
</Canvas>

## Accessibility

TODO

Notes:
- `aria-activedescendent` has a violation when the value is set to `false` when there is no active descendent
- Bug to do with 

## Research

TODO
